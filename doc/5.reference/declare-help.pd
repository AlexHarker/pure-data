#N canvas 514 170 1052 487 12;
#X declare;
#X obj 53 14 declare;
#X text 120 15 - set environment for loading patch;
#X text 34 49 A declare object adds one or more directories to the
search path \, and/or pre-loads one or more libraries ("extensions")
to Pd in preparation for opening the patch from a file. Usage is "declare
[-flag value] [-flag value] ..." where the flag can be:, f 67;
#X text 30 170 -lib;
#X text 30 187 -stdlib;
#X text 30 134 -path;
#X text 30 151 -stdpath;
#X text 549 375 BUG: The name "-stdpath" is confusing \, as it has
a quite different effect from "-stdpath" on the pd command line.,
f 68;
#X text 549 309 WARNING: as of version 0.47 \, "declare -path" and
"declare -stdpath" inside abstractions take effect only within those
abstractions. If Pd's compatibility version is set to 0.46 or earlier
the old (buggy) behavior takes effect., f 68;
#X text 128 134 add to search path \, relative to the patch or user
paths;
#X text 128 170 load a library \, relative to the patch or user paths
;
#X text 30 235 (For any of these you may use a full pathname such as
"/tmp/dir" or \, in Windows \, "C:/garbage" instead of a relative path).
, f 68;
#X text 30 278 For instance \, if you put abstractions and/or other
supporting files in a subdirectory "more" \, you can put an object
"declare -path more" to make sure Pd sees them when the patch is loaded.
Or \, if you have files installed in the directory extra/stillmore
(in the Pd installation) you can get it using "declare -stdpath stillmore".
, f 68;
#X text 128 152 add to search path \, relative to Pd (the 'extra' folder)
;
#X text 128 187 load a library \, relative to Pd (the 'extra' folder)
;
#X text 809 439 updated for Pd version 0.52;
#X text 30 358 Paths declared with '-path' will have top search priority.
Next priority is the relative path \, then user added search paths
and finally the standard path ('extra' folder). As of version 0.49
\, "declare -path" and "declare -lib" will fall back the other search
paths if the relative path to the patch does not exist. To avoid checking
further \, use an explicit relative path by prepending "./" or "../"
to the path or lib name., f 68;
#X text 549 37 Since the 'extra' folder is the last in the search priority
\, user added paths are searched before. You can use [declare -stdpath
./] to ensure that 'extra' is searched before other search paths.,
f 68;
#X text 549 122 It is a current best practice to just use [declare]
instead of permanently adding paths to the user search paths or libs
to startup. With [declare] you can better manage and avoid conflicts
with externals from different libraries that have the same name by
using it to call the right library you want., f 68;
#X text 549 86 Note that the order you specify '-path' flags also specify
the search priority., f 68;
#X text 549 200 But if you need to declare and use libraries that have
objects with the same name \, you may run into problems that [declare]
can't solve. For instance \, when you load a library (via startup or
with 'declare -lib') \, all of its objects get pre loaded \, so using
'declare -path' cannot for search priority. Hence \, you may neeed
to adopt slash declarations as in [library/objeectname]. For more on
this \, please refer to chapter 4 of Pd's manual., f 68;
